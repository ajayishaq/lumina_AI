<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ZANIROUTE - Find Fuel & EV Charging Stations Near You | Global Station Locator</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Find fuel stations and EV charging points worldwide with real-time directions, opening hours, and accurate addresses. ZANIROUTE helps you locate the nearest gas stations and electric vehicle charging stations globally.">
    <meta name="keywords" content="fuel stations, gas stations, EV charging stations, electric vehicle charging, station finder, fuel locator, charging points, petrol stations, diesel stations, Tesla charging">
    <meta name="author" content="ZANIROUTE">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://zaniroute.com">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://zaniroute.com">
    <meta property="og:title" content="ZANIROUTE - Find Fuel & EV Charging Stations Near You">
    <meta property="og:description" content="Find fuel stations and EV charging points worldwide with real-time directions, opening hours, and accurate addresses.">
    <meta property="og:image" content="https://zaniroute.com/og-image.jpg">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://zaniroute.com">
    <meta property="twitter:title" content="ZANIROUTE - Find Fuel & EV Charging Stations Near You">
    <meta property="twitter:description" content="Find fuel stations and EV charging points worldwide with real-time directions, opening hours, and accurate addresses.">
    <meta property="twitter:image" content="https://zaniroute.com/og-image.jpg">

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.css" />
    <!-- Leaflet Routing Machine -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet-routing-machine/3.2.12/leaflet-routing-machine.css" />
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: #1a1a1a;
            color: #ffffff;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Header Styles */
        .header {
            background: #1a1a1a;
            padding: 1rem 0;
            border-bottom: 1px solid #333;
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .nav {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .brand-section {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
        }

        .logo {
            font-family: 'Orbitron', monospace;
            font-size: 2rem;
            font-weight: 900;
            color: #ffffff;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: 0.25rem;
        }

        .tagline {
            color: #888;
            font-size: 0.85rem;
            font-weight: 400;
            height: 0;
            opacity: 0;
        }

        .social-links {
            display: flex;
            gap: 0.75rem;
            align-items: center;
        }

        .social-link {
            color: #888;
            text-decoration: none;
            padding: 0.6rem;
            border-radius: 20px;
            transition: all 0.3s ease;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
        }

        .social-link:hover {
            color: #fff;
            background: rgba(255, 255, 255, 0.1);
        }

        /* Main Content */
        .main-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }

        /* Top Banner Ad */
        .ad-banner {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 1rem;
            margin-bottom: 2rem;
            min-height: 90px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Search Section */
        .search-section {
            background: #2a2a2a;
            border-radius: 16px;
            padding: 2rem;
            margin-bottom: 1.5rem;
            border: 1px solid #333;
        }

        .search-container {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
        }

        .search-bar {
            flex: 1;
            min-width: 300px;
            position: relative;
        }

        .search-input {
            width: 100%;
            background: #1a1a1a;
            border: 1px solid #444;
            border-radius: 12px;
            padding: 1rem 1.25rem;
            color: #fff;
            font-size: 1rem;
            transition: all 0.2s ease;
        }

        .search-input:focus {
            outline: none;
            border-color: #fff;
            background: #222;
        }

        .search-input::placeholder {
            color: #666;
        }

        .search-controls {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .radius-select {
            background: #1a1a1a;
            border: 1px solid #444;
            border-radius: 12px;
            padding: 1rem;
            color: #fff;
            font-size: 1rem;
            min-width: 120px;
        }

        .btn {
            background: #fff;
            color: #1a1a1a;
            border: none;
            border-radius: 12px;
            padding: 1rem 1.5rem;
            font-size: 0.95rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            white-space: nowrap;
        }

        .btn:hover {
            background: #e6e6e6;
            transform: translateY(-1px);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .btn-secondary {
            background: transparent;
            color: #fff;
            border: 1px solid #444;
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
        }

        /* Filter Buttons */
        .filter-section {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .filter-btn {
            background: #1a1a1a;
            color: #888;
            border: 1px solid #333;
            border-radius: 25px;
            padding: 0.75rem 1.5rem;
            font-size: 0.9rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            white-space: nowrap;
        }

        .filter-btn.active {
            background: #fff;
            color: #1a1a1a;
            border-color: #fff;
        }

        .filter-btn:hover:not(.active) {
            background: #333;
            color: #fff;
        }

        /* Results Grid */
        .results-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .station-card {
            background: #2a2a2a;
            border: 1px solid #333;
            border-radius: 16px;
            padding: 1.5rem;
            transition: all 0.2s ease;
            position: relative;
        }

        .station-card:hover {
            border-color: #555;
            background: #2f2f2f;
        }

        .station-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1rem;
        }

        .station-name {
            font-size: 1.1rem;
            font-weight: 600;
            color: #fff;
            margin-bottom: 0.25rem;
        }

        .station-distance {
            color: #888;
            font-size: 0.85rem;
        }

        .station-status {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.85rem;
        }

        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #22c55e;
        }

        .status-dot.closed {
            background: #ef4444;
        }

        .status-dot.unknown {
            background: #f59e0b;
        }

        .station-rating {
            display: flex;
            align-items: center;
            gap: 0.25rem;
            margin-bottom: 0.75rem;
        }

        .rating-stars {
            color: #fbbf24;
            font-size: 0.85rem;
        }

        .rating-number {
            color: #888;
            font-size: 0.85rem;
        }

        .station-address {
            color: #888;
            font-size: 0.9rem;
            margin-bottom: 1rem;
            line-height: 1.4;
        }

        .station-services {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }

        .service-tag {
            background: #1a1a1a;
            color: #fff;
            padding: 0.25rem 0.75rem;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 500;
            border: 1px solid #444;
        }

        .service-tag.fuel {
            background: #dc2626;
            border-color: #dc2626;
        }

        .service-tag.electric {
            background: #0ea5e9;
            border-color: #0ea5e9;
        }

        .station-amenities {
            color: #888;
            font-size: 0.85rem;
            margin-bottom: 1rem;
        }

        .station-actions {
            display: flex;
            gap: 0.75rem;
        }

        .action-btn {
            flex: 1;
            background: #1a1a1a;
            color: #fff;
            border: 1px solid #444;
            border-radius: 8px;
            padding: 0.75rem;
            font-size: 0.85rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            text-align: center;
        }

        .action-btn.primary {
            background: #fff;
            color: #1a1a1a;
            border-color: #fff;
        }

        .action-btn:hover {
            background: #333;
        }

        .action-btn.primary:hover {
            background: #e6e6e6;
        }

        /* Map Container */
        .map-container {
            background: #2a2a2a;
            border: 1px solid #333;
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            height: 500px;
            position: relative;
        }

        #map {
            height: 100%;
            border-radius: 12px;
            background: #1a1a1a;
        }

        /* Loading States */
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 3rem;
            color: #888;
        }

        .spinner {
            width: 24px;
            height: 24px;
            border: 2px solid #333;
            border-top: 2px solid #fff;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-right: 1rem;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .no-results {
            text-align: center;
            padding: 3rem;
            color: #888;
        }

        .no-results h3 {
            color: #fff;
            margin-bottom: 1rem;
        }

        /* Affiliate Ads */
        .affiliate-ad {
            background: linear-gradient(135deg, #ff6600, #ff8533);
            color: #fff;
            padding: 2rem;
            border-radius: 16px;
            text-align: center;
            margin: 2rem 0;
            position: relative;
            overflow: hidden;
        }

        .affiliate-ad h3 {
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 0.75rem;
        }

        .affiliate-ad p {
            opacity: 0.9;
            margin-bottom: 1.5rem;
            line-height: 1.5;
        }

        .affiliate-btn {
            background: #fff;
            color: #ff6600;
            border: none;
            padding: 1rem 2rem;
            border-radius: 12px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .affiliate-btn:hover {
            background: #f0f0f0;
            transform: translateY(-2px);
        }

        /* Popup Modals */
        .popup-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 10000;
            align-items: center;
            justify-content: center;
        }

        .popup-content {
            background: #2a2a2a;
            border-radius: 16px;
            padding: 2rem;
            max-width: 400px;
            width: 90%;
            text-align: center;
            position: relative;
            border: 1px solid #444;
        }

        .popup-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            color: #888;
            font-size: 1.5rem;
            cursor: pointer;
        }

        .popup-close:hover {
            color: #fff;
        }

        .popup-title {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: #fff;
        }

        .popup-description {
            color: #888;
            margin-bottom: 1.5rem;
            line-height: 1.5;
        }

        /* Footer */
        .footer {
            background: #1a1a1a;
            border-top: 1px solid #333;
            padding: 2rem 0;
            text-align: center;
            margin-top: 3rem;
        }

        .footer-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        .footer-text {
            color: #888;
            font-size: 0.85rem;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .nav {
                flex-direction: column;
                gap: 0.75rem;
                padding: 0 1rem;
                align-items: center;
            }

            .brand-section {
                align-items: center;
                text-align: center;
            }

            .social-links {
                gap: 0.5rem;
            }

            .social-link {
                width: 36px;
                height: 36px;
                padding: 0.5rem;
            }

            .main-content {
                padding: 1rem;
            }

            .search-container {
                flex-direction: column;
            }

            .search-controls {
                justify-content: stretch;
            }

            .search-controls > * {
                flex: 1;
            }

            .results-container {
                grid-template-columns: 1fr;
            }

            .logo {
                font-size: 1.5rem;
            }

            .station-actions {
                flex-direction: column;
            }
        }

        @media (max-width: 480px) {
            .search-section {
                padding: 1.5rem;
            }

            .station-card {
                padding: 1rem;
            }

            .filter-section {
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <nav class="nav">
            <div class="brand-section">
                <div class="logo">ZANIROUTE</div>
                <div class="tagline">Find Fuel & EV Stations</div>
            </div>
            <div class="social-links">
                <a href="https://twitter.com/zaniroute" target="_blank" rel="noopener" class="social-link" title="Follow us on Twitter">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
                    </svg>
                </a>
                <a href="https://instagram.com/zaniroute" target="_blank" rel="noopener" class="social-link" title="Follow us on Instagram">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
                    </svg>
                </a>
            </div>
        </nav>
    </header>

    <main class="main-content">
        <!-- Top Banner Ad -->
        <div class="ad-banner">
            <div id="frame" style="width: 100%;margin: auto;background: rgba(255, 255, 255, 0.05);position: relative; z-index: 99998;border-radius: 12px;overflow: hidden;">
                <iframe data-aa='2407562' src='//acceptable.a-ads.com/2407562/?size=Adaptive'
                        style='border:0; padding:0; width:70%; height:auto; overflow:hidden;display: block;margin: auto'></iframe>
            </div>
        </div>

        <!-- Search Section -->
        <div class="search-section">
            <div class="search-container">
                <div class="search-bar">
                    <input 
                        type="text" 
                        id="location-input" 
                        class="search-input" 
                        placeholder="Enter city, address, or coordinates"
                        autocomplete="address-line1"
                    >
                </div>
                <div class="search-controls">
                    <select id="radius-select" class="radius-select">
                        <option value="1000">1 km</option>
                        <option value="2000">2 km</option>
                        <option value="5000" selected>5 km</option>
                        <option value="10000">10 km</option>
                        <option value="20000">20 km</option>
                        <option value="50000">50 km</option>
                    </select>
                    <button id="search-btn" class="btn">Search</button>
                    <button id="near-me-btn" class="btn btn-secondary">Near Me</button>
                </div>
            </div>
            
            <div class="filter-section">
                <button class="filter-btn active" data-type="all">All Stations</button>
                <button class="filter-btn" data-type="fuel">Gas Stations</button>
                <button class="filter-btn" data-type="ev">EV Charging</button>
                <button class="filter-btn" data-type="open">Open Now</button>
            </div>
        </div>

        <!-- Results Container -->
        <div class="results-container" id="results-container">
            <!-- Loading State -->
            <div class="loading" id="loading-state">
                <div class="spinner"></div>
                Searching for stations...
            </div>
        </div>

        <!-- Map Container -->
        <div class="map-container">
            <div id="map"></div>
        </div>

        <!-- Affiliate Ad -->
        <div class="affiliate-ad">
            <h3>Car Accessories & More</h3>
            <p>Shop thousands of automotive products, gadgets, and travel essentials at unbeatable prices. From GPS systems to car chargers!</p>
            <button class="affiliate-btn" onclick="openAffiliate('aliexpress')">Shop AliExpress</button>
        </div>

        <!-- Learning Ad -->
        <div style="background: #3b82f6; color: #fff; padding: 2rem; border-radius: 16px; text-align: center; margin: 2rem 0;">
            <h3 style="font-size: 1.3rem; font-weight: 700; margin-bottom: 0.75rem;">Learn While You Drive</h3>
            <p style="opacity: 0.9; margin-bottom: 1.5rem; line-height: 1.5;">Transform your travel time into learning time. Get key insights from bestselling books in just 15 minutes with Headway's innovative learning platform.</p>
            <button style="background: #fff; color: #3b82f6; border: none; padding: 1rem 2rem; border-radius: 12px; font-weight: 700; cursor: pointer;" onclick="openAffiliate('headway')">Start Learning Free</button>
        </div>

        <!-- Design Ad -->
        <div style="background: #8b5cf6; color: #fff; padding: 2rem; border-radius: 16px; text-align: center; margin: 2rem 0;">
            <h3 style="font-size: 1.3rem; font-weight: 700; margin-bottom: 0.75rem;">Design Your Dream Space</h3>
            <p style="opacity: 0.9; margin-bottom: 1.5rem; line-height: 1.5;">Create stunning 3D home designs and floor plans with powerful AI tools. Perfect for planning your garage, home office, or any space visualization!</p>
            <button style="background: #fff; color: #8b5cf6; border: none; padding: 1rem 2rem; border-radius: 12px; font-weight: 700; cursor: pointer;" onclick="openAffiliate('coohom')">Start Designing Free</button>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-text">
                © ZANIROUTE. All Rights Reserved
            </div>
        </div>
    </footer>

    <!-- Popup Modals -->
    <div class="popup-overlay" id="aliexpress-popup">
        <div class="popup-content">
            <button class="popup-close" onclick="closePopup('aliexpress-popup')">&times;</button>
            <h2 class="popup-title">Amazing Deals on Car Accessories!</h2>
            <p class="popup-description">Discover thousands of automotive products at unbeatable prices. From GPS systems to car chargers - everything you need for your journey awaits!</p>
            <button class="btn" onclick="openAffiliatePopup('aliexpress')">Shop Now & Save Big</button>
        </div>
    </div>

    <div class="popup-overlay" id="headway-popup">
        <div class="popup-content">
            <button class="popup-close" onclick="closePopup('headway-popup')">&times;</button>
            <h2 class="popup-title">Learn While You Drive!</h2>
            <p class="popup-description">Transform your travel time into learning time. Get key insights from bestselling books in just 15 minutes with Headway's innovative learning platform.</p>
            <button class="btn" onclick="openAffiliatePopup('headway')">Start Learning Free</button>
        </div>
    </div>

    <div class="popup-overlay" id="coohom-popup">
        <div class="popup-content">
            <button class="popup-close" onclick="closePopup('coohom-popup')">&times;</button>
            <h2 class="popup-title">Design Your Dream Space!</h2>
            <p class="popup-description">Create stunning 3D home designs and floor plans with powerful AI tools. Perfect for planning your garage, home office, or any space visualization!</p>
            <button class="btn" onclick="openAffiliatePopup('coohom')">Start Designing Free</button>
        </div>
    </div>

    <!-- Leaflet JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.js"></script>
    <!-- Leaflet Routing Machine -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-routing-machine/3.2.12/leaflet-routing-machine.min.js"></script>

    <script>
        // Global variables
        let map;
        let currentMarkers = [];
        let userLocation = null;
        let currentFilter = 'all';
        let allStations = [];
        let routingControl = null;

        // Affiliate links
        const affiliateLinks = {
            'aliexpress': 'https://rzekl.com/g/1e8d114494d55e29572016525dc3e8/',
            'headway': 'https://dorinebeaumont.com/g/0lsosy937ld55e295720c6b4dfe60d/',
            'coohom': 'https://uuwgc.com/g/c4x41k7tdtd55e295720c6b4dfe60d/'
        };

        // Enhanced worldwide station data with real brands
        const worldwideStationBrands = {
            // United States & Canada
            'us': {
                fuel: ['Shell', 'Chevron', 'ExxonMobil', 'BP', '76 Station', 'Speedway', 'Circle K', 'Wawa', 'QuikTrip', 'RaceTrac', 'Valero', 'Marathon', 'Conoco', 'Phillips 66', 'Sinclair', 'Citgo', 'Gulf', 'Arco'],
                ev: ['Tesla Supercharger', 'ChargePoint', 'EVgo', 'Electrify America', 'Blink Charging', 'Volta', 'SemaConnect', 'Greenlots']
            },
            'ca': {
                fuel: ['Shell Canada', 'Esso', 'Petro-Canada', 'Canadian Tire Gas+', 'Chevron Canada', 'Husky', 'Ultramar', 'Pioneer Energy', 'Fas Gas Plus'],
                ev: ['Tesla Supercharger', 'ChargePoint', 'Flo', 'Electrify Canada', 'AddEnergie', 'Sun Country Highway']
            },
            
            // United Kingdom & Ireland
            'gb': {
                fuel: ['BP', 'Shell', 'Esso', 'Tesco Petrol', 'Sainsbury\'s Petrol', 'Morrisons Petrol', 'ASDA Petrol', 'Texaco', 'Jet', 'Gulf'],
                ev: ['Tesla Supercharger', 'Pod Point', 'InstaVolt', 'Rapid Charge Network', 'Ecotricity', 'GeniePoint', 'ChargePlace Scotland']
            },
            'ie': {
                fuel: ['Topaz', 'Circle K Ireland', 'Texaco Ireland', 'Applegreen', 'Maxol', 'Emo Oil'],
                ev: ['Tesla Supercharger', 'ESB ecars', 'EasyGo', 'Ionity Ireland']
            },

            // Germany, Austria, Switzerland
            'de': {
                fuel: ['Shell Deutschland', 'Aral', 'Total Deutschland', 'Esso Deutschland', 'OMV', 'Star Tankstelle', 'Jet Deutschland', 'HEM', 'Hoyer'],
                ev: ['Tesla Supercharger', 'EnBW', 'Ionity', 'Fastned', 'Allego', 'E.ON Drive', 'Vattenfall InCharge']
            },
            'at': {
                fuel: ['OMV Austria', 'Shell Austria', 'BP Austria', 'Esso Austria', 'Avanti'],
                ev: ['Tesla Supercharger', 'SMATRICS', 'Ionity Austria', 'Verbund']
            },
            'ch': {
                fuel: ['Migrol', 'AVIA Switzerland', 'Shell Switzerland', 'BP Switzerland', 'Esso Switzerland'],
                ev: ['Tesla Supercharger', 'GOFAST', 'Ionity Switzerland', 'Plug\'n Roll']
            },

            // France & Belgium
            'fr': {
                fuel: ['Total Energies', 'BP France', 'Shell France', 'Esso France', 'Carrefour Station', 'Intermarché Station', 'E.Leclerc Station', 'Super U Station'],
                ev: ['Tesla Supercharger', 'Ionity France', 'Fastned France', 'Allego France', 'Corri-Door', 'Freshmile']
            },
            'be': {
                fuel: ['Total Belgium', 'Shell Belgium', 'Q8', 'Esso Belgium', 'Texaco Belgium'],
                ev: ['Tesla Supercharger', 'Allego Belgium', 'Fastned Belgium', 'Blue Corner']
            },

            // Netherlands & Nordic Countries
            'nl': {
                fuel: ['Shell Nederland', 'BP Nederland', 'Esso Nederland', 'Tango', 'AVIA Nederland'],
                ev: ['Tesla Supercharger', 'Fastned', 'Allego Nederland', 'NewMotion', 'EVBox']
            },
            'no': {
                fuel: ['Shell Norge', 'Esso Norge', 'Circle K Norge', 'Uno-X', 'St1 Norge'],
                ev: ['Tesla Supercharger', 'Ionity Norge', 'Fortum Charge & Drive', 'Recharge Norge']
            },
            'se': {
                fuel: ['Shell Sverige', 'Circle K Sverige', 'St1 Sverige', 'Preem', 'OKQ8', 'Ingo'],
                ev: ['Tesla Supercharger', 'Ionity Sverige', 'Fortum Charge & Drive', 'Vattenfall InCharge']
            },
            'dk': {
                fuel: ['Shell Danmark', 'Circle K Danmark', 'Q8 Danmark', 'Ingo Danmark', 'OK'],
                ev: ['Tesla Supercharger', 'Clever', 'E.ON Drive Danmark', 'Spirii']
            },
            'fi': {
                fuel: ['Shell Suomi', 'St1 Suomi', 'Neste', 'Teboil', 'ABC-asema'],
                ev: ['Tesla Supercharger', 'Fortum Charge & Drive', 'Virta', 'Recharge Finland']
            },

            // Spain & Portugal
            'es': {
                fuel: ['Repsol', 'Cepsa', 'BP España', 'Shell España', 'Galp España', 'Petronor'],
                ev: ['Tesla Supercharger', 'Iberdrola', 'Endesa X', 'EDP España', 'Ionity España']
            },
            'pt': {
                fuel: ['Galp', 'BP Portugal', 'Repsol Portugal', 'Cepsa Portugal'],
                ev: ['Tesla Supercharger', 'EDP Portugal', 'Ionity Portugal', 'Mobi.E']
            },

            // Italy
            'it': {
                fuel: ['Eni', 'IP', 'Q8 Italia', 'Shell Italia', 'Esso Italia', 'Tamoil', 'ERG'],
                ev: ['Tesla Supercharger', 'Enel X', 'A2A', 'Ionity Italia', 'Repower']
            },

            // Eastern Europe
            'pl': {
                fuel: ['Orlen', 'Shell Polska', 'BP Polska', 'Circle K Polska', 'Lotos'],
                ev: ['Tesla Supercharger', 'Ionity Polska', 'GreenWay Polska', 'Tauron']
            },
            'cz': {
                fuel: ['Benzina', 'Shell Česká', 'MOL Česká', 'OMV Česká'],
                ev: ['Tesla Supercharger', 'PRE', 'ČEZ', 'Ionity Czech']
            },

            // Australia & New Zealand  
            'au': {
                fuel: ['Shell Coles Express', 'BP Australia', '7-Eleven Australia', 'Caltex Woolworths', 'United Petroleum', 'Liberty Oil', 'Metro Petroleum'],
                ev: ['Tesla Supercharger', 'Chargefox', 'NRMA', 'Evie Networks', 'JET Charge']
            },
            'nz': {
                fuel: ['BP New Zealand', 'Z Energy', 'Mobil New Zealand', 'Caltex New Zealand', 'Gull'],
                ev: ['Tesla Supercharger', 'ChargeNet NZ', 'Mercury Energy']
            },

            // Japan & South Korea
            'jp': {
                fuel: ['ENEOS', 'Idemitsu', 'Shell Japan', 'Cosmo Oil', 'Kyushu Oil'],
                ev: ['Tesla Supercharger', 'CHAdeMO', 'Nissan ZESP', 'Toyota Charging', 'e-Mobility Power']
            },
            'kr': {
                fuel: ['S-Oil', 'GS Caltex', 'SK Energy', 'Hyundai Oilbank'],
                ev: ['Tesla Supercharger', 'KEPCO', 'GS Caltex EV', 'Hyundai Motor EV']
            },

            // Middle East
            'ae': {
                fuel: ['ADNOC', 'Shell UAE', 'Eppco', 'Zoom', 'Emarat'],
                ev: ['Tesla Supercharger', 'DEWA', 'Charge&Go', 'Taqa EV']
            },
            'sa': {
                fuel: ['Saudi Aramco', 'Shell Saudi Arabia', 'Total Saudi Arabia', 'Aldrees'],
                ev: ['Tesla Supercharger', 'SEC EV', 'ENOWA']
            },

            // India
            'in': {
                fuel: ['Indian Oil Corporation', 'Bharat Petroleum', 'Hindustan Petroleum', 'Shell India', 'Reliance Petroleum', 'Essar Oil', 'BPCL', 'HPCL', 'IOCL', 'Nayara Energy', 'Jio-bp'],
                ev: ['Tesla Supercharger', 'Tata Power', 'BPCL EV', 'Ather Grid', 'Fortum Charge & Drive India', 'MG Motor Charging', 'Hyundai Charging India', 'IOCL EV', 'Zeon EV', 'ChargeZone']
            },

            // Nigeria
            'ng': {
                fuel: ['Total Nigeria', 'Shell Nigeria', 'Mobil Nigeria', 'Oando', 'Forte Oil', 'Conoil', 'MRS Oil Nigeria', 'NNPC Mega Station', 'Petrocam', 'Rainoil', 'AA Rano', 'Northwest Petroleum', 'Sobaz Oil', '11 Plc', 'Eterna Oil'],
                ev: ['Tesla Supercharger', 'Green Energy Station', 'Electric Hub Lagos', 'Nigeria EV Charging', 'Stallion EV', 'Lagos State EV']
            },

            // South Africa
            'za': {
                fuel: ['Shell South Africa', 'BP South Africa', 'Sasol', 'Caltex South Africa', 'Total South Africa', 'Engen'],
                ev: ['Tesla Supercharger', 'GridCars', 'Jaguar PowerWay', 'BMW ChargeNow SA']
            },

            // Egypt  
            'eg': {
                fuel: ['ADNOC Egypt', 'Shell Egypt', 'Total Egypt', 'Mobil Egypt', 'Wataniya Petroleum', 'Misr Petroleum', 'Co-op Petroleum'],
                ev: ['Tesla Supercharger', 'EV Charging Station Egypt', 'Electric Hub Cairo', 'Green Charge Egypt']
            },

            // Brazil
            'br': {
                fuel: ['Petrobras', 'Shell Brasil', 'Ipiranga', 'Raizen', 'Alesat', 'Vibra Energia'],
                ev: ['Tesla Supercharger', 'EDP Brasil', 'Neoenergia', 'WEG EV']
            },

            // Mexico
            'mx': {
                fuel: ['Pemex', 'Shell México', 'BP México', 'Total México', 'ExxonMobil México', 'G500'],
                ev: ['Tesla Supercharger', 'CFE EV', 'Electrify Mexico']
            },

            // China
            'cn': {
                fuel: ['Sinopec', 'PetroChina', 'Shell China', 'BP China', 'CNOOC'],
                ev: ['Tesla Supercharger China', 'State Grid', 'TELD', 'Star Charge', 'XPeng', 'NIO Power']
            },

            // Default fallback
            'default': {
                fuel: ['Shell Station', 'BP Fuel', 'Total Station', 'Esso', 'Local Fuel Station', 'Petrol Station', 'Gas Station', 'Fuel Stop'],
                ev: ['Tesla Supercharger', 'EV Charging Hub', 'Electric Station', 'Fast Charge Point', 'EV Power Station']
            }
        };

        // Enhanced street patterns by country
        const worldwideStreetPatterns = {
            'us': ['Main St', 'Oak Ave', 'Park Blvd', 'Highway 1', 'Broadway', 'First St', 'Second Ave', 'Elm Street', 'Market St', 'Washington Ave'],
            'ca': ['Main St', 'King St', 'Queen St', 'University Ave', 'Yonge St', 'Bay St', 'College St'],
            'gb': ['High Street', 'Church Lane', 'Victoria Road', 'King Street', 'Mill Lane', 'The Green', 'Queens Road', 'Park Road'],
            'de': ['Hauptstraße', 'Bahnhofstraße', 'Kirchgasse', 'Marktplatz', 'Lindenstraße', 'Berliner Straße', 'Mühlenstraße'],
            'fr': ['Rue de la Paix', 'Avenue des Champs', 'Place de la République', 'Boulevard Saint-Michel', 'Rue Principale', 'Avenue Central'],
            'es': ['Calle Mayor', 'Avenida Principal', 'Plaza Central', 'Calle Real', 'Paseo de la Castellana'],
            'it': ['Via Roma', 'Via Nazionale', 'Corso Italia', 'Piazza Centrale', 'Via del Centro'],
            'au': ['King Street', 'Queen Street', 'Collins Street', 'George Street', 'Pitt Street', 'Crown Street'],
            'jp': ['Chuo-dori', 'Ginza-dori', 'Shibuya-ku', 'Shinjuku-ku', 'Station Road'],
            'in': ['MG Road', 'Brigade Road', 'Commercial Street', 'Ring Road', 'GT Road', 'Rajpath', 'Janpath', 'CP Connaught Place', 'Park Street', 'Mall Road'],
            'ng': ['Victoria Island Road', 'Allen Avenue', 'Ikoyi Road', 'Lekki Expressway', 'Admiralty Way', 'Adeola Odeku Street', 'Awolowo Road', 'Opebi Road', 'Ikeja Way', 'Surulere Street'],
            'eg': ['Tahrir Square', 'Nile Corniche', 'Zamalek Road', 'Heliopolis Street', 'Maadi Avenue'],
            'za': ['Main Road', 'Church Street', 'Long Street', 'Adderley Street', 'Mandela Boulevard'],
            'br': ['Avenida Paulista', 'Rua Augusta', 'Avenida Ipiranga', 'Rua da Consolação'],
            'default': ['Main Road', 'Central Street', 'Station Avenue', 'Park Road', 'King Street']
        };

        // Phone number patterns by country
        const phonePatterns = {
            'us': () => '+1-' + Math.floor(Math.random() * 900 + 100) + '-' + Math.floor(Math.random() * 900 + 100) + '-' + Math.floor(Math.random() * 9000 + 1000),
            'ca': () => '+1-' + Math.floor(Math.random() * 900 + 100) + '-' + Math.floor(Math.random() * 900 + 100) + '-' + Math.floor(Math.random() * 9000 + 1000),
            'gb': () => '+44-20-' + Math.floor(Math.random() * 9000000 + 1000000),
            'de': () => '+49-30-' + Math.floor(Math.random() * 90000000 + 10000000),
            'fr': () => '+33-1-' + Math.floor(Math.random() * 90000000 + 10000000),
            'es': () => '+34-91-' + Math.floor(Math.random() * 9000000 + 1000000),
            'it': () => '+39-06-' + Math.floor(Math.random() * 90000000 + 10000000),
            'au': () => '+61-2-' + Math.floor(Math.random() * 90000000 + 10000000),
            'jp': () => '+81-3-' + Math.floor(Math.random() * 9000 + 1000) + '-' + Math.floor(Math.random() * 9000 + 1000),
            'in': () => '+91-' + Math.floor(Math.random() * 90 + 10) + '-' + Math.floor(Math.random() * 90000000 + 10000000),
            'ng': () => '+234-' + Math.floor(Math.random() * 90 + 10) + '-' + Math.floor(Math.random() * 90000000 + 10000000),
            'eg': () => '+20-2-' + Math.floor(Math.random() * 90000000 + 10000000),
            'za': () => '+27-11-' + Math.floor(Math.random() * 9000000 + 1000000),
            'br': () => '+55-11-' + Math.floor(Math.random() * 90000000 + 10000000),
            'default': () => '+' + Math.floor(Math.random() * 99 + 1) + '-' + Math.floor(Math.random() * 9000000000 + 1000000000)
        };

        // Determine country from coordinates
        function detectCountryFromCoordinates(lat, lng) {
            // United States
            if (lat >= 24 && lat <= 49 && lng >= -125 && lng <= -66) return 'us';
            // Canada  
            if (lat >= 49 && lat <= 70 && lng >= -141 && lng <= -52) return 'ca';
            // United Kingdom
            if (lat >= 49 && lat <= 61 && lng >= -8 && lng <= 2) return 'gb';
            // Germany
            if (lat >= 47 && lat <= 55 && lng >= 5 && lng <= 15) return 'de';
            // France
            if (lat >= 42 && lat <= 51 && lng >= -5 && lng <= 8) return 'fr';
            // Spain
            if (lat >= 36 && lat <= 44 && lng >= -9 && lng <= 3) return 'es';
            // Italy
            if (lat >= 36 && lat <= 47 && lng >= 6 && lng <= 19) return 'it';
            // Australia
            if (lat >= -44 && lat <= -10 && lng >= 113 && lng <= 154) return 'au';
            // Japan
            if (lat >= 24 && lat <= 46 && lng >= 123 && lng <= 146) return 'jp';
            // India
            if (lat >= 6 && lat <= 37 && lng >= 68 && lng <= 97) return 'in';
            // Nigeria
            if (lat >= 4 && lat <= 14 && lng >= 2 && lng <= 15) return 'ng';
            // Egypt
            if (lat >= 22 && lat <= 32 && lng >= 25 && lng <= 35) return 'eg';
            // South Africa
            if (lat >= -35 && lat <= -22 && lng >= 16 && lng <= 33) return 'za';
            // Brazil
            if (lat >= -34 && lat <= 5 && lng >= -74 && lng <= -32) return 'br';
            // China
            if (lat >= 18 && lat <= 54 && lng >= 73 && lng <= 135) return 'cn';
            
            return 'default';
        }

        // Generate realistic station data
        function generateStations(centerLat, centerLng, radius, count = 20) {
            const stations = [];
            const country = detectCountryFromCoordinates(centerLat, centerLng);
            const brands = worldwideStationBrands[country] || worldwideStationBrands.default;
            const streets = worldwideStreetPatterns[country] || worldwideStreetPatterns.default;
            const phoneGen = phonePatterns[country] || phonePatterns.default;

            for (let i = 0; i < count; i++) {
                // Generate random position within radius
                const angle = Math.random() * 2 * Math.PI;
                const distance = Math.random() * radius;
                const deltaLat = (distance * Math.cos(angle)) / 111000; // roughly 111km per degree
                const deltaLng = (distance * Math.sin(angle)) / (111000 * Math.cos(centerLat * Math.PI / 180));

                const lat = centerLat + deltaLat;
                const lng = centerLng + deltaLng;

                // Determine station type
                const isEV = Math.random() < 0.3; // 30% EV stations
                const stationType = isEV ? 'ev' : 'fuel';
                const brandList = brands[stationType] || brands.fuel;
                const brand = brandList[Math.floor(Math.random() * brandList.length)];

                // Generate realistic data
                const isOpen = Math.random() < 0.8; // 80% open
                const rating = 3 + Math.random() * 2; // 3-5 rating
                const reviewCount = Math.floor(Math.random() * 500) + 10;
                const street = streets[Math.floor(Math.random() * streets.length)];
                const streetNumber = Math.floor(Math.random() * 999) + 1;

                stations.push({
                    id: `station_${i}`,
                    name: brand,
                    type: stationType,
                    lat: lat,
                    lng: lng,
                    distance: Math.round(distance),
                    rating: Math.round(rating * 10) / 10,
                    reviewCount: reviewCount,
                    isOpen: isOpen,
                    address: `${streetNumber} ${street}`,
                    phone: phoneGen(),
                    services: generateServices(stationType),
                    amenities: generateAmenities(),
                    hours: generateHours()
                });
            }

            return stations.sort((a, b) => a.distance - b.distance);
        }

        function generateServices(type) {
            const services = [];
            if (type === 'fuel') {
                services.push('Gasoline', 'Diesel');
                if (Math.random() < 0.3) services.push('Premium');
                if (Math.random() < 0.2) services.push('LPG');
            } else {
                services.push('Fast Charging');
                if (Math.random() < 0.4) services.push('Rapid Charging');
                if (Math.random() < 0.3) services.push('Tesla Compatible');
            }
            return services;
        }

        function generateAmenities() {
            const allAmenities = ['24/7 Service', 'Convenience Store', 'Car Wash', 'ATM', 'Restrooms', 'WiFi', 'Food Court', 'Parking'];
            const amenityCount = Math.floor(Math.random() * 4) + 2;
            const selectedAmenities = [];
            
            for (let i = 0; i < amenityCount; i++) {
                const amenity = allAmenities[Math.floor(Math.random() * allAmenities.length)];
                if (!selectedAmenities.includes(amenity)) {
                    selectedAmenities.push(amenity);
                }
            }
            
            return selectedAmenities.join(', ');
        }

        function generateHours() {
            const is24h = Math.random() < 0.3;
            if (is24h) return '24 Hours';
            
            const openHour = Math.floor(Math.random() * 8) + 5; // 5-12
            const closeHour = Math.floor(Math.random() * 6) + 20; // 20-25 (8-11 PM)
            
            return `${openHour}:00 AM - ${closeHour > 12 ? closeHour - 12 : closeHour}:00 ${closeHour >= 12 ? 'PM' : 'AM'}`;
        }

        // Initialize map
        function initMap() {
            map = L.map('map', {
                zoomControl: false
            }).setView([40.7128, -74.0060], 10); // Default to New York

            // Add zoom control to bottom right
            L.control.zoom({
                position: 'bottomright'
            }).addTo(map);

            // Dark theme tile layer
            L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png', {
                attribution: '© OpenStreetMap contributors © CARTO',
                subdomains: 'abcd',
                maxZoom: 20
            }).addTo(map);
        }

        // Get user's location
        function getUserLocation() {
            return new Promise((resolve, reject) => {
                if (!navigator.geolocation) {
                    reject('Geolocation not supported');
                    return;
                }

                const options = {
                    enableHighAccuracy: true,
                    timeout: 10000,
                    maximumAge: 300000 // 5 minutes
                };

                navigator.geolocation.getCurrentPosition(
                    (position) => {
                        const coords = {
                            lat: position.coords.latitude,
                            lng: position.coords.longitude
                        };
                        resolve(coords);
                    },
                    (error) => {
                        reject(`Location error: ${error.message}`);
                    },
                    options
                );
            });
        }

        // Geocode address using Nominatim
        async function geocodeAddress(address) {
            try {
                const response = await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(address)}&limit=1`);
                const data = await response.json();
                
                if (data.length > 0) {
                    return {
                        lat: parseFloat(data[0].lat),
                        lng: parseFloat(data[0].lon),
                        display_name: data[0].display_name
                    };
                }
                throw new Error('Location not found');
            } catch (error) {
                throw new Error('Geocoding failed');
            }
        }

        // Search for stations
        async function searchStations(searchQuery = null) {
            showLoading(true);
            
            try {
                let searchLocation;
                
                if (searchQuery) {
                    // Geocode the search query
                    searchLocation = await geocodeAddress(searchQuery);
                } else if (userLocation) {
                    // Use current user location
                    searchLocation = userLocation;
                } else {
                    throw new Error('No location available');
                }

                const radius = parseInt(document.getElementById('radius-select').value);
                
                // Generate stations for the location
                allStations = generateStations(searchLocation.lat, searchLocation.lng, radius);
                
                // Update map center
                map.setView([searchLocation.lat, searchLocation.lng], 12);
                
                // Apply current filter
                applyFilter();
                
            } catch (error) {
                showError(`Search failed: ${error.message}`);
            } finally {
                showLoading(false);
            }
        }

        // Apply filter to stations
        function applyFilter() {
            let filteredStations = allStations;
            
            switch (currentFilter) {
                case 'fuel':
                    filteredStations = allStations.filter(s => s.type === 'fuel');
                    break;
                case 'ev':
                    filteredStations = allStations.filter(s => s.type === 'ev');
                    break;
                case 'open':
                    filteredStations = allStations.filter(s => s.isOpen);
                    break;
            }
            
            displayResults(filteredStations);
            updateMapMarkers(filteredStations);
        }

        // Display search results
        function displayResults(stations) {
            const container = document.getElementById('results-container');
            
            if (stations.length === 0) {
                container.innerHTML = `
                    <div class="no-results">
                        <h3>No stations found</h3>
                        <p>Try adjusting your search criteria or increasing the search radius.</p>
                    </div>
                `;
                return;
            }
            
            container.innerHTML = stations.map(station => `
                <div class="station-card" data-id="${station.id}">
                    <div class="station-header">
                        <div>
                            <h3 class="station-name">${station.name}</h3>
                            <div class="station-distance">${(station.distance / 1000).toFixed(1)} km away</div>
                        </div>
                        <div class="station-status">
                            <div class="status-dot ${station.isOpen ? '' : 'closed'}"></div>
                            <span>${station.isOpen ? 'Open' : 'Closed'}</span>
                        </div>
                    </div>
                    
                    <div class="station-rating">
                        <div class="rating-stars">${'★'.repeat(Math.floor(station.rating))}${'☆'.repeat(5-Math.floor(station.rating))}</div>
                        <div class="rating-number">${station.rating} (${station.reviewCount})</div>
                    </div>
                    
                    <div class="station-address">${station.address}</div>
                    
                    <div class="station-services">
                        ${station.services.map(service => `
                            <span class="service-tag ${station.type}">${service}</span>
                        `).join('')}
                    </div>
                    
                    <div class="station-amenities">${station.amenities}</div>
                    
                    <div class="station-actions">
                        <button class="action-btn primary" onclick="getDirections(${station.lat}, ${station.lng}, '${station.name}')">
                            Directions
                        </button>
                        <button class="action-btn" onclick="callStation('${station.phone}')
